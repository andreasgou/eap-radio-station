CREATE TABLE MUSICGENRE(
GENRENAME VARCHAR(50), 
PRIMARY KEY (GENRENAME)
);

CREATE TABLE ARTIST(
ID INTEGER NOT NULL, 
FIRSTNAME VARCHAR(255) NOT NULL,
LASTNAME VARCHAR(255) NOT NULL,
ARTISTICNAME VARCHAR(255) NOT NULL,
SEX CHAR(1) NOT NULL,
BIRTHDAY DATE NOT NULL,
BIRTHPLACE VARCHAR(255) NOT NULL,
PRIMARY KEY (ID),
GENRE VARCHAR(50) NOT NULL,
FOREIGN KEY(GENRE) REFERENCES MUSICGENRE(GENRENAME)
);

CREATE TABLE MUSICGROUP(
ID INTEGER NOT NULL, 
NAME VARCHAR(255) NOT NULL,
FORMATIONDATE DATE NOT NULL,
PRIMARY KEY (ID)
);

CREATE TABLE ARTISTMUSICGROUP(
ARTIST_ID INTEGER NOT NULL, 
FOREIGN KEY (ARTIST_ID) REFERENCES  ARTIST(ID),
MUSICGROUP_ID INTEGER NOT NULL, 
FOREIGN KEY (MUSICGROUP_ID) REFERENCES  MUSICGROUP(ID)
);

CREATE TABLE MUSICPRODUCTIONCOMPANY(
ID INTEGER NOT NULL,
COMPANYNAME VARCHAR(255),
COMPANYADDRESS VARCHAR(255) NOT NULL,
COMPANYTELEPHONE INTEGER NOT NULL,
PRIMARY KEY (ID)
);

CREATE TABLE ALBUM(
ID INTEGER NOT NULL,
TITLE VARCHAR(255) NOT NULL,
TYPE1 VARCHAR(20) NOT NULL,
DISKNUMBER SMALLINT NOT NULL,
COMPANY_ID INTEGER,
ARTIST_ID INTEGER,
MUSICGROUP_ID INTEGER,
PRIMARY KEY (ID),
FOREIGN KEY (COMPANY_ID) REFERENCES  MUSICPRODUCTIONCOMPANY(ID),
FOREIGN KEY (ARTIST_ID) REFERENCES  ARTIST(ID),
FOREIGN KEY (MUSICGROUP_ID) REFERENCES  MUSICGROUP(ID)
);

CREATE TABLE PLAYLIST(
ID INTEGER NOT NULL,
NAME VARCHAR(255), 
PRIMARY KEY(ID)
);

CREATE TABLE SONG(
ID INTEGER NOT NULL,
TITLE VARCHAR(255),
DURATION INTEGER NOT NULL,
TRACKNR SMALLINT NOT NULL,
ALBUM_ID INTEGER NOT NULL,
PRIMARY KEY(ID),
FOREIGN KEY (ALBUM_ID) REFERENCES  ALBUM(ID)
);

CREATE TABLE PLAYLIST_SONG(
PLAYLIST_ID INTEGER NOT NULL,
SONG_ID INTEGER NOT NULL,
PRIMARY KEY(PLAYLIST_ID,SONG_ID),
FOREIGN KEY(PLAYLIST_ID) REFERENCES PLAYLIST(ID),
FOREIGN KEY(SONG_ID) REFERENCES SONG(ID)
);

